# Util-QaAutomation-Js
This framework wraps cypress, and can be used for platform agnostic UI E2E automated testing.  

Visit cypress.io for supported browsers list, and detailed information on how to create cypress tests.

## Installation
**Module Installation steps - To install the npm module in a new project:**
* Create a new node project, create a file named '.npmrc' in your node project, and copy the following into it to access the module in artifactory:
```javascript
registry=http://artifactory.flqa.net/artifactory/api/npm/fl-npm-virtual
npm_config_loglevel=verbose
```
* In your node project root, perform an `npm init` and answer the init questions to create a package.json in your project
* Install the latest version of cypress into your project: `npm install cypress --save-dev`
* Start the cypress UI (follow the commands on cypress.io).  This will create a cypress folder structure in your project.  
* From a terminal, navigate to the root directory of your project and install the framework using: `npm install fl-jsuiauto --save-dev` 

**To run the sample test project and verify your system is ready for automated UI test execution, follow the instructions below**

1.) Install the latest cypress supported browsers on your system

2.) In your project directory, navigate to node_modules/fl-jsuiauto/cypress.  
* Copy the `env-config`, `page-objects`, and `plugins` folders into the cypress folder for your project
* Copy the 'sampleIDMTest.js' test from the `integration` folder into a folder of the same name in your project cypress folder

5.) Start cypress by running the following command: .\node_modules\.bin\cypress open --env configFile=stage
  * Note: This test will run against the stage environment using the configs in stage.json

6.) Run the test by clicking on the sampleIDMTest.js test in the cypress UI.  The test will login to an IDM test client.  It also generates an access token to verify that the test can access deployed API's

7.) If the test passes, your environment is configured and ready use for E2E testing.


